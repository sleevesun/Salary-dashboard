import{R as O,f as C,c as b,d as w,L as x,M as d,P as e,k as p,u as i,S as v,U as _,D as $,N as F,V as k,O as M,W as D,X as z,F as H,Y as K,Z as E}from"./vue-vendor-27cSQeHz.js";import{H as U,G as L,I as W,a as J}from"./icons-8pvJWDhn.js";import{T as q,I as G,_ as R,a as X,b as Y,c as Z,B as Q}from"./antd-B2ZpYdT-.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const T=O("payroll",()=>{const c=C("2025-08"),a=C("summary"),o=C(!1),r=C(!1),t=C(""),s=C(null),l=["2025-06","2025-07","2025-08"],u={发薪总人数:{title:"发薪总人数 (A1)",content:"范围：本月有实发工资记录（实发>0）且属于正式员工、试用员工。"},涉及加班:{title:"涉及加班 (A2)",content:"条件：当月薪资明细中，[加班费] > 0 的人员。"},涉及补偿金:{title:"涉及补偿金 (A3)",content:"条件：当月薪资明细中，[离职补偿金] > 0 的人员。"},发薪总额:{title:"发薪总额 (B1)",content:"包含企业承担的所有直接人力成本。<br>公式：∑ (税前应发工资 + 五险一金司付)"},应发工资:{title:"应发工资 (B2)",content:"① 本月应发工资（含加班费、奖金等）<br>② 倒挤计算：实发+扣款项。<br>公式：∑ (工资类 + 绩效 + 补贴)"},加班费:{title:"加班费 (B3)",content:"当月发放加班费。<br>公式：∑ (加班费)"},离职补偿:{title:"离职补偿 (B4)",content:"当月发放离职补偿金。<br>公式：∑ (离职补偿金)"},签约金:{title:"签约金 (B5)",content:"当月发放签约金。<br>公式：∑ (签约金)"},奖金:{title:"奖金 (B6)",content:"当月发放奖金。<br>公式：∑ (奖金类工资项)"},五险一金司付:{title:"五险一金司付 (B7)",content:"仅包含法定福利的企业承担部分。<br>公式：∑ (养老+医疗+失业+工伤+生育) + ∑ (公积金)"},发薪变化说明:{title:"发薪变化说明 (B9)",content:"逻辑：取自 Payroll 专员在后台针对该部门录入的备注信息，用于解释成本波动原因。"}},f={"2025-06":[{id:"1",name:"游戏业务",level:0,expanded:!0,desc:"业务平稳。",people:{val:2510,chg:-7,pct:-.3},people_ot:{val:78,chg:0,pct:0},people_sev:{val:23,chg:0,pct:0},total:{val:3687.45,chg:-15.58,pct:-.4},salary:{val:2643.73,chg:-11.2,pct:-.4},ot_pay:{val:155.36,chg:3.29,pct:2.1},severance:{val:65.25,chg:-2.1,pct:-3},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:244,chg:0,pct:0},social:{val:528.34,chg:-5.4,pct:-1},children:[{id:"1-1",name:"游戏工作室群",level:1,expanded:!1,desc:"原光子工作室群",people:{val:1260,chg:0,pct:0},people_ot:{val:40,chg:0,pct:0},people_sev:{val:9,chg:0,pct:0},total:{val:1836.2,chg:-9.68,pct:-1.5},salary:{val:1382.13,chg:-9.68,pct:-2},ot_pay:{val:32.53,chg:0,pct:0},severance:{val:9.43,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:172.3,chg:0,pct:0},social:{val:209.81,chg:0,pct:0},children:[]},{id:"1-2",name:"桃花源工作室群",level:1,expanded:!1,desc:"原天美工作室群",people:{val:512,chg:5,pct:1},people_ot:{val:45,chg:0,pct:0},people_sev:{val:0,chg:0,pct:0},total:{val:712.5,chg:12.3,pct:1.8},salary:{val:550,chg:10,pct:1.9},ot_pay:{val:80.5,chg:2.3,pct:3},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:10,chg:0,pct:0},social:{val:72,chg:0,pct:0}}]},{id:"2",name:"集团发展部",level:0,expanded:!0,desc:"原集团职能",people:{val:164,chg:-3,pct:-1.8},people_ot:{val:7,chg:0,pct:0},people_sev:{val:0,chg:0,pct:0},total:{val:233.55,chg:-4.3,pct:-1.8},salary:{val:173.92,chg:-1.44,pct:-.8},ot_pay:{val:7.46,chg:0,pct:0},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:52.18,chg:-2,pct:-3.8},children:[{id:"2-1",name:"人力资源中台",level:1,expanded:!1,desc:"",people:{val:30,chg:-1,pct:-3.2},people_ot:{val:0,chg:0,pct:0},people_sev:{val:0,chg:0,pct:0},total:{val:39.8,chg:-1.33,pct:-3.2},salary:{val:30.62,chg:-1,pct:-3},ot_pay:{val:0,chg:0,pct:0},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:9.19,chg:-.3,pct:-3}}]}],"2025-07":[{id:"1",name:"游戏业务",level:0,expanded:!0,desc:"",people:{val:2600,chg:90,pct:3.6},people_ot:{val:85,chg:7,pct:9},people_sev:{val:5,chg:-18,pct:-78.3},total:{val:3850.2,chg:162.75,pct:4.4},salary:{val:2750.1,chg:106.37,pct:4},ot_pay:{val:170.5,chg:15.14,pct:9.7},severance:{val:15.2,chg:-50.05,pct:-76.7},signing_bonus:{val:50,chg:50,pct:100},bonus:{val:250,chg:6,pct:2.5},social:{val:550.4,chg:22.06,pct:4.2},children:[{id:"1-1",name:"游戏工作室群",level:1,expanded:!1,desc:"",people:{val:1280,chg:20,pct:1.6},people_ot:{val:15,chg:-25,pct:-62},people_sev:{val:2,chg:-7,pct:-77},total:{val:1860.5,chg:24.3,pct:1.3},salary:{val:1400,chg:17.87,pct:1.3},ot_pay:{val:35,chg:2.47,pct:7.6},severance:{val:5,chg:-4.43,pct:-47},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:175,chg:2.7,pct:1.6},social:{val:211.5,chg:1.69,pct:.8},children:[]},{id:"1-2",name:"桃花源工作室群",level:1,expanded:!1,desc:"",people:{val:530,chg:18,pct:3.5},people_ot:{val:50,chg:5,pct:11},people_sev:{val:0,chg:0,pct:0},total:{val:740.2,chg:27.7,pct:3.9},salary:{val:570,chg:20,pct:3.6},ot_pay:{val:88,chg:7.5,pct:9.3},severance:{val:0,chg:0,pct:0},signing_bonus:{val:50,chg:50,pct:100},bonus:{val:12,chg:2,pct:20},social:{val:75,chg:3,pct:4.2}}]},{id:"2",name:"集团发展部",level:0,expanded:!0,desc:"",people:{val:162,chg:-2,pct:-1.2},people_ot:{val:5,chg:-2,pct:-28},people_sev:{val:0,chg:0,pct:0},total:{val:230.1,chg:-3.45,pct:-1.5},salary:{val:171.5,chg:-2.42,pct:-1.4},ot_pay:{val:6.2,chg:-1.26,pct:-16.9},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:51.8,chg:-.38,pct:-.7},children:[{id:"2-1",name:"人力资源中台",level:1,expanded:!1,desc:"",people:{val:29,chg:-1,pct:-3.3},people_ot:{val:0,chg:0,pct:0},people_sev:{val:0,chg:0,pct:0},total:{val:38.5,chg:-1.3,pct:-3.3},salary:{val:29.8,chg:-.82,pct:-2.7},ot_pay:{val:0,chg:0,pct:0},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:8.7,chg:-.49,pct:-5.3}}]}],"2025-08":[{id:"1",name:"游戏业务",level:0,expanded:!0,desc:"普调生效，成本上升。",people:{val:2755,chg:155,pct:6},people_ot:{val:65,chg:-20,pct:-23.5},people_sev:{val:5,chg:0,pct:0},total:{val:4520.5,chg:670.3,pct:17.4},salary:{val:3250,chg:499.9,pct:18.2},ot_pay:{val:135,chg:-35.5,pct:-20.8},severance:{val:18,chg:2.8,pct:18.4},signing_bonus:{val:12,chg:0,pct:0},bonus:{val:400,chg:150,pct:60},social:{val:620,chg:69.6,pct:12.6},children:[{id:"1-1",name:"游戏工作室群",level:1,expanded:!0,desc:"下属工作室架构调整完成。",people:{val:1680,chg:400,pct:31.3},people_ot:{val:30,chg:15,pct:100},people_sev:{val:3,chg:1,pct:50},total:{val:2580,chg:719.5,pct:38.7},salary:{val:1950,chg:550,pct:39.3},ot_pay:{val:45,chg:10,pct:28.6},severance:{val:12,chg:7,pct:140},signing_bonus:{val:12,chg:0,pct:0},bonus:{val:280,chg:105,pct:60},social:{val:380,chg:168.5,pct:79.7},children:[{id:"1-1-1",name:"青云工作室",level:2,expanded:!1,desc:"新项目立项",people:{val:600,chg:20,pct:3.4},people_ot:{val:20,chg:5,pct:33},people_sev:{val:0,chg:0,pct:0},total:{val:950,chg:45.3,pct:5},salary:{val:720,chg:35,pct:5.1},ot_pay:{val:30,chg:5,pct:20},severance:{val:0,chg:0,pct:0},signing_bonus:{val:12,chg:12,pct:100},bonus:{val:100,chg:10,pct:11},social:{val:130,chg:8,pct:6.6}},{id:"1-1-2",name:"黑羽工作室",level:2,expanded:!1,desc:"海外版本冲刺",people:{val:480,chg:5,pct:1},people_ot:{val:8,chg:2,pct:33},people_sev:{val:0,chg:0,pct:0},total:{val:780,chg:30.5,pct:4.1},salary:{val:560,chg:25,pct:4.7},ot_pay:{val:12,chg:3,pct:33},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:80,chg:15,pct:23},social:{val:105,chg:5,pct:5}},{id:"1-1-3",name:"白海豚工作室",level:2,expanded:!1,desc:"人员优化完成",people:{val:600,chg:-30,pct:-4.8},people_ot:{val:2,chg:-5,pct:-71},people_sev:{val:3,chg:3,pct:100},total:{val:850,chg:-20.5,pct:-2.4},salary:{val:670,chg:-15,pct:-2.2},ot_pay:{val:3,chg:-1.5,pct:-33},severance:{val:12,chg:12,pct:100},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:100,chg:0,pct:0},social:{val:145,chg:-5,pct:-3.3}}]},{id:"1-2",name:"桃花源工作室群",level:1,expanded:!1,desc:"",people:{val:540,chg:10,pct:1.9},people_ot:{val:30,chg:-20,pct:-40},people_sev:{val:0,chg:0,pct:0},total:{val:820.5,chg:80.3,pct:10.8},salary:{val:630,chg:60,pct:10.5},ot_pay:{val:60,chg:0,pct:0},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:18,chg:6,pct:50},social:{val:85,chg:10,pct:13.3}}]},{id:"2",name:"集团发展部",level:0,expanded:!0,desc:"架构升级，新设AI Lab",people:{val:180,chg:18,pct:11.1},people_ot:{val:5,chg:0,pct:0},people_sev:{val:0,chg:0,pct:0},total:{val:265.8,chg:35.7,pct:15.5},salary:{val:200,chg:28.5,pct:16.6},ot_pay:{val:5.5,chg:-.7,pct:-11.3},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:60.3,chg:8.5,pct:16.4},children:[{id:"2-1",name:"人力资源中台",level:1,expanded:!1,desc:"",people:{val:32,chg:1,pct:3.2},people_ot:{val:0,chg:0,pct:0},people_sev:{val:0,chg:0,pct:0},total:{val:45,chg:3,pct:7.1},salary:{val:35,chg:2,pct:6.1},ot_pay:{val:0,chg:0,pct:0},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:10,chg:1.3,pct:14.9}},{id:"2-2",name:"AI Lab",level:1,expanded:!1,desc:"[NEW] 战略重点",people:{val:15,chg:15,pct:100},people_ot:{val:2,chg:2,pct:100},people_sev:{val:0,chg:0,pct:0},total:{val:50,chg:50,pct:100},salary:{val:40,chg:40,pct:100},ot_pay:{val:2,chg:2,pct:100},severance:{val:0,chg:0,pct:0},signing_bonus:{val:0,chg:0,pct:0},bonus:{val:0,chg:0,pct:0},social:{val:8,chg:8,pct:100}}]}]},n=b(()=>f[c.value]||[]),y=b(()=>{const m=n.value,g={people:{val:0,chg:0},total:{val:0,chg:0},ot_pay:{val:0,chg:0},severance:{val:0,chg:0,people:0}};return m.forEach(h=>{g.people.val+=h.people.val,g.people.chg+=h.people.chg,g.total.val+=h.total.val,g.total.chg+=h.total.chg,g.ot_pay.val+=h.ot_pay.val,g.ot_pay.chg+=h.ot_pay.chg,g.severance.val+=h.severance.val,g.severance.chg+=h.severance.chg,g.severance.people+=h.people_sev.val}),g});function N(m){f[m]&&(c.value=m)}function I(m){const h=l.indexOf(c.value)+m;h>=0&&h<l.length&&(c.value=l[h])}function P(m){a.value=m}function V(){o.value=!o.value}function j(m,g){t.value=m,s.value={name:g,type:m},r.value=!0}function A(){r.value=!1,s.value=null}return{currentMonth:c,viewMode:a,showComparison:o,drawerVisible:r,drawerType:t,drawerData:s,fieldDefinitions:u,currentData:n,months:l,setMonth:N,toggleMonth:I,setViewMode:P,toggleComparison:V,openDrawer:j,closeDrawer:A,dashboardSummary:y}}),ee={class:"flex justify-between items-center mb-6 shrink-0 bg-white px-6 py-3 border-b border-[var(--color-border-2)] shadow-sm"},te={class:"flex items-center gap-4"},ae={class:"flex items-center hover:bg-[var(--color-fill-2)] px-2 py-1 rounded cursor-pointer transition select-none group"},le={class:"mx-3 font-medium text-[var(--color-text-1)] tabular-nums min-w-[80px] text-center"},ce=w({__name:"DashboardHeader",setup(c){const a=T(),o=b(()=>{const[r,t]=a.currentMonth.split("-");return`${r}年 ${t}月`});return(r,t)=>{const s=q;return d(),x("header",ee,[e("div",te,[t[3]||(t[3]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-8 h-8 bg-[var(--color-primary-6)] rounded flex items-center justify-center text-white font-bold text-lg"}," H "),e("h1",{class:"text-xl font-semibold text-[var(--color-text-1)]"},"薪酬透视驾驶舱")],-1)),t[4]||(t[4]=e("div",{class:"h-6 w-px bg-[var(--color-border-2)] mx-2"},null,-1)),e("div",ae,[p(i(U),{class:"text-[var(--color-text-3)] hover:text-[var(--color-primary-6)] cursor-pointer",size:16,onClick:t[0]||(t[0]=l=>i(a).toggleMonth(-1))}),e("span",le,v(o.value),1),p(i(L),{class:"text-[var(--color-text-3)] hover:text-[var(--color-primary-6)] cursor-pointer",size:16,onClick:t[1]||(t[1]=l=>i(a).toggleMonth(1))})]),p(s,{color:"blue"},{default:_(()=>[...t[2]||(t[2]=[$("月报 v1.0",-1)])]),_:1})]),t[5]||(t[5]=e("div",{class:"flex gap-3"},null,-1))])}}}),oe={class:"min-h-screen flex flex-col bg-[var(--color-bg-body)]"},se={class:"flex-1 px-6 pb-6 flex flex-col overflow-hidden"},re=w({__name:"MainLayout",setup(c){return(a,o)=>(d(),x("div",oe,[p(ce),e("main",se,[F(a.$slots,"default")])]))}}),ne={class:"grid grid-cols-4 gap-4 mb-6 shrink-0"},ie=w({__name:"KPICards",setup(c){const a=T();return b(()=>a.dashboardSummary),(o,r)=>(d(),x("section",ne))}}),B=(c,a)=>{const o=c.__vccOpts||c;for(const[r,t]of a)o[r]=t;return o},pe=B(ie,[["__scopeId","data-v-462c6f95"]]),ve={class:"flex justify-end items-center mb-4 shrink-0 px-6"},de={class:"hidden relative w-72 mr-auto"},ge={class:"flex items-center gap-4"},he={class:"bg-[var(--color-fill-2)] p-1 rounded-[var(--radius-small)] flex text-xs font-medium"},ue={class:"flex items-center cursor-pointer select-none"},me=w({__name:"DashboardToolbar",setup(c){const a=T();return(o,r)=>{const t=G,s=R;return d(),x("div",ve,[e("div",de,[p(t,{placeholder:"搜索部门 / 团队...","allow-clear":""},{prefix:_(()=>[p(i(W),{class:"text-[var(--color-text-3)]"})]),_:1})]),e("div",ge,[e("div",he,[e("button",{onClick:r[0]||(r[0]=l=>i(a).setViewMode("summary")),class:k(["px-3 py-1.5 rounded-[var(--radius-small)] transition-all",i(a).viewMode==="summary"?"shadow-sm bg-white text-[var(--color-primary-6)] font-medium":"text-[var(--color-text-3)] hover:text-[var(--color-text-1)]"])},"汇总视图",2),e("button",{onClick:r[1]||(r[1]=l=>i(a).setViewMode("detail")),class:k(["px-3 py-1.5 rounded-[var(--radius-small)] transition-all",i(a).viewMode==="detail"?"shadow-sm bg-white text-[var(--color-primary-6)] font-medium":"text-[var(--color-text-3)] hover:text-[var(--color-text-1)]"])},"明细视图",2)]),r[4]||(r[4]=e("div",{class:"w-px h-4 bg-[var(--color-border-2)]"},null,-1)),e("label",ue,[p(s,{checked:i(a).showComparison,"onUpdate:checked":r[2]||(r[2]=l=>i(a).showComparison=l),size:"small"},null,8,["checked"]),r[3]||(r[3]=e("div",{class:"ml-2 text-sm text-[var(--color-text-2)] font-medium"},"显示环比",-1))])])])}}});function _e(c){return c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function xe(c){return c.toLocaleString("en-US")}const fe={class:"flex flex-col items-end justify-center leading-normal"},ye={key:0,class:"flex items-center gap-1 mt-0.5 text-xs"},be={key:1,class:"text-[var(--color-text-4)] text-xs mt-0.5"},we=w({__name:"TrendValue",props:{val:{},chg:{},pct:{},isCurrency:{type:Boolean},isClickable:{type:Boolean},showComparison:{type:Boolean}},emits:["click"],setup(c,{emit:a}){const o=c,r=a,t=b(()=>o.chg>0?"text-[var(--color-danger-6)]":o.chg<0?"text-[var(--color-success-6)]":"text-[var(--color-text-4)]");function s(){o.isClickable&&r("click")}return(l,u)=>(d(),x("div",fe,[e("div",{class:k(["font-inherit",[c.val===0?"text-gray-300":c.isClickable?"text-[var(--color-primary-6)] cursor-pointer hover:text-[var(--color-primary-5)] relative dashed-underline":"text-gray-800"]]),onClick:s},v(c.val===0?"-":c.isCurrency?i(_e)(c.val):i(xe)(c.val)),3),c.showComparison&&c.chg!==0?(d(),x("div",ye,[e("span",{class:k(t.value)},v(c.chg>0?"+":"")+v(c.chg.toFixed(2)),3),e("span",{class:k([t.value,"scale-90 opacity-80"])}," ("+v(c.chg>0?"+":"")+v(c.pct.toFixed(1))+"%) ",3)])):c.showComparison?(d(),x("div",be,"-")):M("",!0)]))}}),ke=B(we,[["__scopeId","data-v-e4cab111"]]),Ce={class:"grow relative bg-white border border-[var(--color-border-2)] rounded-[var(--radius-medium)] shadow-sm overflow-hidden flex flex-col"},$e=["innerHTML"],Te={key:0,class:"font-medium text-[var(--color-text-2)]"},De=["title"],Me=w({__name:"PayrollTable",setup(c){const a=T(),o=s=>{var l;return(l=a.fieldDefinitions[s])==null?void 0:l.content},r=b(()=>{const s={title:"部门名称",dataIndex:"name",key:"name",fixed:"left",width:250,align:"left"},l={title:"发薪变化说明",dataIndex:"desc",key:"desc",width:250,align:"left",customTooltip:o("发薪变化说明")};return a.viewMode==="summary"?[s,{title:"发薪总人数",key:"people",width:150,align:"right",customTooltip:o("发薪总人数"),className:"bg-[var(--color-primary-1)] text-[var(--color-primary-6)] font-bold",isCurrency:!1},{title:"发薪总额 (万元)",key:"total",width:200,align:"right",customTooltip:o("发薪总额"),className:"bg-[var(--color-primary-1)] text-[var(--color-primary-6)] font-bold",isCurrency:!0,isClickable:!1},l]:[s,{title:"人员概况",children:[{title:"发薪总人数",key:"people",width:120,align:"right",customTooltip:o("发薪总人数"),className:"bg-[var(--color-primary-1)] text-[var(--color-primary-6)] font-bold"},{title:"涉及加班",key:"people_ot",width:120,align:"right",customTooltip:o("涉及加班")},{title:"涉及补偿金",key:"people_sev",width:120,align:"right",customTooltip:o("涉及补偿金")}]},{title:"薪酬成本 (万元)",children:[{title:"发薪总额",key:"total",width:140,align:"right",customTooltip:o("发薪总额"),className:"bg-[var(--color-primary-1)] text-[var(--color-primary-6)] font-bold",isCurrency:!0,isClickable:!1},{title:"应发工资",key:"salary",width:120,align:"right",customTooltip:o("应发工资"),isCurrency:!0},{title:"加班费",key:"ot_pay",width:120,align:"right",customTooltip:o("加班费"),isCurrency:!0,isClickable:!1},{title:"补偿金",key:"severance",width:120,align:"right",customTooltip:o("离职补偿"),isCurrency:!0,isClickable:!1},{title:"签约金",key:"signing_bonus",width:120,align:"right",customTooltip:o("签约金"),isCurrency:!0},{title:"奖金",key:"bonus",width:120,align:"right",customTooltip:o("奖金"),isCurrency:!0},{title:"司付社保公积金",key:"social",width:140,align:"right",customTooltip:o("五险一金司付"),isCurrency:!0}]},l]});function t(s,l){["total","ot_pay","severance"].includes(s)&&a.openDrawer(s,l.name)}return(s,l)=>{const u=X,f=Y;return d(),x("div",Ce,[p(f,{columns:r.value,"data-source":i(a).currentData,pagination:!1,scroll:{x:1500,y:"calc(100vh - 280px)"},"row-key":"id","expand-row-by-click":!1,size:"small",class:"h-full payroll-table"},{headerCell:_(({column:n})=>[e("div",{class:k(["flex items-center gap-1",n.align==="right"?"justify-end":"justify-start"])},[e("span",null,v(n.title),1),n.customTooltip?(d(),D(u,{key:0,overlayClassName:"max-w-[260px]"},{title:_(()=>[e("span",{innerHTML:n.customTooltip},null,8,$e)]),default:_(()=>[p(i(J),{size:14,class:"text-[var(--color-text-4)] hover:text-[var(--color-primary-6)] cursor-help"})]),_:2},1024)):M("",!0)],2)]),bodyCell:_(({column:n,record:y})=>[n.key==="name"?(d(),x("span",Te,v(y.name),1)):["people","total","people_ot","people_sev","salary","ot_pay","severance","signing_bonus","bonus","social"].includes(String(n.key))?(d(),D(ke,{key:1,val:y[n.key].val,chg:y[n.key].chg,pct:y[n.key].pct,"is-currency":n.isCurrency,"is-clickable":n.isClickable,"show-comparison":i(a).showComparison,onClick:N=>t(String(n.key),y)},null,8,["val","chg","pct","is-currency","is-clickable","show-comparison","onClick"])):n.key==="desc"?(d(),x("div",{key:2,class:"text-[var(--color-text-3)] truncate max-w-[200px]",title:y.desc},v(y.desc||"-"),9,De)):M("",!0)]),_:1},8,["columns","data-source"])])}}}),Be=B(Me,[["__scopeId","data-v-5dd2cdbc"]]),Ne={class:"flex-1 overflow-auto p-6"},Le={class:"bg-[var(--color-primary-1)] border border-[var(--color-primary-1)] rounded-[var(--radius-medium)] p-4 mb-6 flex justify-between items-center"},Se={class:"text-xs text-[var(--color-primary-6)] font-medium mb-1"},Ie={class:"space-y-3"},Pe={class:"flex items-center gap-3"},Ve={class:"text-sm font-medium text-[var(--color-text-1)]"},je={class:"text-xs text-[var(--color-text-3)]"},Ae={class:"text-right"},Oe={class:"text-sm font-bold text-[var(--color-text-1)]"},Fe={class:"text-xs text-[var(--color-text-3)]"},ze={class:"w-full mt-4 py-2 text-xs text-[var(--color-primary-6)] font-medium hover:bg-[var(--color-primary-1)] rounded transition flex items-center justify-center"},He={class:"flex justify-end gap-2"},Ke=w({__name:"DetailDrawer",setup(c){const a=T(),o=b(()=>{var f;const s=((f=a.drawerData)==null?void 0:f.name)||"",l=a.currentMonth;let u="明细";return a.drawerType==="ot_pay"&&(u="加班费明细"),a.drawerType==="severance"&&(u="离职补偿明细"),`${s} - ${u} (${l})`}),r=b(()=>a.drawerType==="ot_pay"?"加班费":a.drawerType==="severance"?"离职补偿":"薪酬"),t=[{initials:"JS",name:"Jason Smith",role:"高级工程师 (T9)",amount:"¥ 4,200.00",hours:"32h",avatarClass:"bg-[var(--color-fill-3)] text-[var(--color-text-2)]"},{initials:"AL",name:"Alice Liu",role:"美术指导 (T10)",amount:"¥ 3,850.50",hours:"28h",avatarClass:"bg-purple-100 text-purple-600"},{initials:"WK",name:"Wang Kai",role:"测试开发 (T8)",amount:"¥ 2,100.00",hours:"15h",avatarClass:"bg-orange-100 text-orange-600"}];return(s,l)=>{const u=Q,f=Z;return d(),D(f,{open:i(a).drawerVisible,title:o.value,width:"480",onClose:i(a).closeDrawer,"body-style":{padding:"0px",display:"flex",flexDirection:"column"}},{footer:_(()=>[e("div",He,[p(u,{onClick:i(a).closeDrawer},{default:_(()=>[...l[4]||(l[4]=[$("关闭",-1)])]),_:1},8,["onClick"]),p(u,{type:"primary"},{default:_(()=>[...l[5]||(l[5]=[$("导出明细",-1)])]),_:1})])]),default:_(()=>[e("div",Ne,[e("div",Le,[e("div",null,[e("div",Se,"本月"+v(r.value)+"总额",1),l[0]||(l[0]=e("div",{class:"text-2xl font-bold text-[var(--color-primary-6)] tabular-nums"},"¥ 155,360.00",-1))]),l[1]||(l[1]=e("div",{class:"text-right"},[e("div",{class:"text-xs text-[var(--color-primary-5)]"},"涉及人数"),e("div",{class:"text-lg font-bold text-[var(--color-primary-6)]"},[$("78 "),e("span",{class:"text-xs font-normal"},"人")])],-1))]),l[3]||(l[3]=e("h3",{class:"text-sm font-bold text-[var(--color-text-1)] mb-3 border-l-4 border-[var(--color-primary-6)] pl-2"},"Top 5 领取明细",-1)),e("div",Ie,[(d(),x(H,null,z(t,n=>e("div",{key:n.name,class:"flex items-center justify-between p-3 border border-[var(--color-border-2)] rounded-[var(--radius-small)] hover:bg-[var(--color-fill-1)] transition cursor-pointer"},[e("div",Pe,[e("div",{class:k(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",n.avatarClass])},v(n.initials),3),e("div",null,[e("div",Ve,v(n.name),1),e("div",je,v(n.role),1)])]),e("div",Ae,[e("div",Oe,v(n.amount),1),e("div",Fe,v(n.hours),1)])])),64))]),e("button",ze,[l[2]||(l[2]=$(" 查看全部 78 人 ",-1)),p(i(L),{class:"ml-1"})])])]),_:1},8,["open","title","onClose"])}}}),Ee=w({__name:"App",setup(c){return(a,o)=>(d(),D(re,null,{default:_(()=>[p(pe),p(me),p(Be),p(Ke)]),_:1}))}}),S=K(Ee),Ue=E();S.use(Ue);S.mount("#app");
